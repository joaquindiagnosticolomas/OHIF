{"version":3,"file":"npm-to-yarn.mjs","sources":["../src/utils.ts","../src/index.ts"],"sourcesContent":["export var unchangedCLICommands = ['test', 'login', 'logout', 'link', 'publish', 'cache']\n\nexport var yarnCLICommands = [\n  'init',\n  'run',\n  'add',\n  'audit',\n  'autoclean',\n  'bin',\n  'check',\n  'config',\n  'create',\n  'dedupe',\n  'generate-lock-entry',\n  'global',\n  'help',\n  'import',\n  'info',\n  'install',\n  'licenses',\n  'list',\n  'lockfile',\n  'outdated',\n  'owner',\n  'pack',\n  'policies',\n  'prune',\n  'remove',\n  'self-update',\n  'tag',\n  'team',\n  'unlink',\n  'upgrade',\n  'upgrade-interactive',\n  'version',\n  'versions',\n  'why',\n  'workspace',\n  'workspaces'\n]\n\nexport var uniqueYarnCLICommands = [\n  'add',\n  'autoclean',\n  'check',\n  'generate-lock-entry',\n  'global',\n  'import',\n  'info',\n  'licenses',\n  'link',\n  'lockfile',\n  'policies',\n  'remove',\n  'run',\n  'self-update',\n  'tag',\n  'unlink',\n  'upgrade',\n  'upgrade-interactive',\n  'versions',\n  'why',\n  'workspace',\n  'workspaces'\n]\n\nexport var npmCLICommands = [\n  'init',\n  'run',\n  'access',\n  'adduser',\n  'audit',\n  'bin',\n  'bugs',\n  'build',\n  'bundle',\n  'ci',\n  'completion',\n  'config',\n  'dedupe',\n  'deprecate',\n  'dist-tag',\n  'docs',\n  'doctor',\n  'edit',\n  'explore',\n  'fund',\n  'help-search',\n  'help',\n  'hook',\n  'install-ci-test',\n  'install-test',\n  'install',\n  'ls',\n  'list',\n  'npm',\n  'org',\n  'outdated',\n  'owner',\n  'pack',\n  'ping',\n  'prefix',\n  'profile',\n  'prune',\n  'rebuild',\n  'repo',\n  'restart',\n  'root',\n  'run-script',\n  'search',\n  'shrinkwrap',\n  'star',\n  'stars',\n  'start',\n  'stop',\n  'team',\n  'token',\n  'uninstall',\n  'unpublish',\n  'update',\n  'version',\n  'view',\n  'whoami'\n]\n","import {\n  unchangedCLICommands,\n  yarnCLICommands,\n  uniqueYarnCLICommands,\n  npmCLICommands\n} from './utils'\n\n// keys are NPM, vals are Yarn\n\ninterface Indexable {\n  [index: string]: string | ((command: string) => string)\n}\n\nvar npmToYarnTable: Indexable = {\n  install: function (command: string) {\n    if (/^install *$/.test(command)) {\n      return 'install'\n    }\n    var ret = command\n      .replace('install', 'add')\n      .replace('--save-dev', '--dev')\n      .replace('--save-exact', '--exact')\n      .replace('--save-optional', '--optional')\n      .replace(/\\s*--save/, '')\n      .replace('--no-package-lock', '--no-lockfile')\n    if (/ -(?:-global|g)(?![^\\b])/.test(ret)) {\n      ret = ret.replace(/ -(?:-global|g)(?![^\\b])/, '')\n      ret = 'global ' + ret\n    }\n    return ret\n  },\n  uninstall: function (command: string) {\n    var ret = command\n      .replace('uninstall', 'remove')\n      .replace('--save-dev', '--dev')\n      .replace(/\\s*--save/, '')\n      .replace('--no-package-lock', '--no-lockfile')\n    if (/ -(?:-global|g)(?![^\\b])/.test(ret)) {\n      ret = ret.replace(/ -(?:-global|g)(?![^\\b])/, '')\n      ret = 'global ' + ret\n    }\n    return ret\n  },\n  version: function (command: string) {\n    return command.replace(/(major|minor|patch)/, '--$1')\n  },\n  rebuild: function (command: string) {\n    return command.replace('rebuild', 'add --force')\n  },\n  run: function (command: string) {\n    return command.replace(\n      /^run\\s?([^\\s]+)?(\\s--\\s--)?(.*)$/,\n      (_, data?: string, dash?: string, rest?: string): string => {\n        var result = ''\n        if (data && !unchangedCLICommands.includes(data) && !yarnCLICommands.includes(data)) {\n          result += data\n        } else {\n          result += 'run ' + (data || '')\n        }\n        if (dash) result += dash.replace(/^\\s--/, '')\n        if (rest) result += rest\n        return result\n      }\n    )\n  },\n  ls: function (command: string) {\n    return command.replace(/^(ls|list)(.*)$/, function (_1, _2: string, args: string): string {\n      var result = 'list'\n      if (args) {\n        var ended = false\n        var packages = []\n        var items = args.split(' ').filter(Boolean)\n        for (var item of items) {\n          if (ended) {\n            result += ' ' + item\n          } else if (item.startsWith('-')) {\n            result += ' --pattern \"' + packages.join('|') + '\"'\n            packages = []\n            ended = true\n            result += ' ' + item\n          } else {\n            packages.push(item)\n          }\n        }\n        if (packages.length > 0) {\n          result += ' --pattern \"' + packages.join('|') + '\"'\n        }\n        return result\n      } else {\n        return 'list'\n      }\n    })\n  },\n  list: function (command: string) {\n    return (npmToYarnTable.ls as Function)(command)\n  },\n  init: function (command: string) {\n    if (/^init (?!-).*$/.test(command)) {\n      return command.replace('init', 'create')\n    }\n    return command.replace(' --scope', '')\n  }\n}\n\nvar yarnToNpmTable: Indexable = {\n  add: function (command: string, global?: true) {\n    var dev\n    if (command === 'add --force') {\n      return 'rebuild'\n    }\n    var ret = command\n      .replace('add', 'install')\n      .replace(/\\s*--dev/, function () {\n        dev = true\n        return ''\n      })\n      .replace('--no-lockfile', '--no-package-lock')\n      .replace('--optional', '--save-optional')\n      .replace('--exact', '--save-exact')\n    if (dev) {\n      ret += ' --save-dev'\n    } else if (global) {\n      ret += ' --global'\n    } else {\n      ret += ' --save'\n    }\n    return ret\n  },\n  remove: function (command: string, global?: true) {\n    var dev\n    var ret = command\n      .replace('remove', 'uninstall')\n      .replace(/\\s*--dev/, function () {\n        dev = true\n        return ''\n      })\n      .replace('--no-lockfile', '--no-package-lock')\n      .replace('--optional', '--save-optional')\n      .replace('--exact', '--save-exact')\n    if (dev) {\n      ret += ' --save-dev'\n    } else if (global) {\n      ret += ' --global'\n    } else {\n      ret += ' --save'\n    }\n    return ret\n  },\n  version: function (command: string) {\n    return command.replace(/--(major|minor|patch)/, '$1')\n  },\n  install: 'install',\n  list: function (command: string) {\n    return command\n      .replace(/--pattern [\"']([^\"']+)[\"']/, function (_, packages: string) {\n        return packages.split('|').join(' ')\n      })\n      .replace(/^list/, 'ls')\n  },\n  init: 'init',\n  create: 'init',\n  run: 'run',\n  global: function (command: string) {\n    if (/^global add/.test(command)) {\n      return (yarnToNpmTable.add as Function)(command.replace(/^global add/, 'add'), true)\n    } else if (/^global remove/.test(command)) {\n      return (yarnToNpmTable.remove as Function)(command.replace(/^global remove/, 'remove'), true)\n    }\n  }\n}\n\nexport default function convert (str: string, to: 'npm' | 'yarn'): string {\n  var returnStr = str\n  if (to === 'npm') {\n    return returnStr.replace(/yarn(?: +([^&\\n\\r]*))?/gm, yarnToNPM)\n  } else {\n    return returnStr.replace(/npm(?: +([^&\\n\\r]*))?/gm, npmToYarn)\n  }\n}\n\nfunction npmToYarn (m: string, command: string): string {\n  command = (command || '').trim()\n  var firstCommand = (/\\w+/.exec(command) || [''])[0]\n\n  if (unchangedCLICommands.includes(firstCommand)) {\n    return 'yarn ' + command\n  } else if (\n    Object.prototype.hasOwnProperty.call(npmToYarnTable, firstCommand) &&\n    npmToYarnTable[firstCommand]\n  ) {\n    if (typeof npmToYarnTable[firstCommand] === 'function') {\n      return 'yarn ' + (npmToYarnTable[firstCommand] as Function)(command)\n    } else {\n      return 'yarn ' + command.replace(firstCommand, npmToYarnTable[firstCommand] as string)\n    }\n  } else {\n    return 'yarn ' + command + \"\\n# couldn't auto-convert command\"\n  }\n}\n\nfunction yarnToNPM (m: string, command: string): string {\n  command = (command || '').trim()\n  if (command === '') {\n    return 'npm install'\n  }\n  var firstCommand = (/\\w+/.exec(command) || [''])[0]\n\n  if (unchangedCLICommands.includes(firstCommand)) {\n    return 'npm ' + command\n  } else if (\n    Object.prototype.hasOwnProperty.call(yarnToNpmTable, firstCommand) &&\n    yarnToNpmTable[firstCommand]\n  ) {\n    if (typeof yarnToNpmTable[firstCommand] === 'function') {\n      return 'npm ' + (yarnToNpmTable[firstCommand] as Function)(command)\n    } else {\n      return 'npm ' + command.replace(firstCommand, yarnToNpmTable[firstCommand] as string)\n    }\n  } else if (!yarnCLICommands.includes(firstCommand)) {\n    // i.e., yarn grunt -> npm run grunt\n    return 'npm run ' + command\n  } else {\n    return 'npm ' + command + \"\\n# couldn't auto-convert command\"\n  }\n}\n"],"names":[],"mappings":"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"}